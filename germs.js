'use strict';Object.defineProperty(exports,'__esModule',{value:!0});function _interopDefault(a){return a&&'object'==typeof a&&'default'in a?a['default']:a}var utils=require('nps-utils'),generateAlias=_interopDefault(require('rollup-plugin-alias')),progress=_interopDefault(require('rollup-plugin-progress')),babili=_interopDefault(require('rollup-plugin-babel-minify')),commonjs=_interopDefault(require('rollup-plugin-commonjs')),cleanup=_interopDefault(require('rollup-plugin-cleanup')),resolve=_interopDefault(require('rollup-plugin-node-resolve')),buble=_interopDefault(require('rollup-plugin-buble')),version=_interopDefault(require('rollup-plugin-git-version')),all=utils.concurrent,series$1=utils.series,allNPS=all.nps,filterSpecs=function(a){return['jayin "_.toPairs(x)','.map(([k, v]) => ([k,','_.map(v, (y) => y.indexOf(\'node_modules\') > -1 ?','\'\u24C2 \' + y.substr(y.indexOf(\'node_modules\') + 13) :',' y)',']))','.filter(([k, v]) => !(k.indexOf(\'test-helpers\') > -1))','.filter(([k, v]) => !(k.indexOf(\'spec\') > -1))','.filter(([k, v]) => !(k.indexOf(\''+a+'\') > -1))','.reduce((agg, [k, v]) => Object.assign({}, agg, {[k]: v}), {})"'].join('')},DEPGRAPH='dependency-graph.json',madge='madge --webpack-config webpack.config.js',germs=function(a,b){void 0===b&&(b={});var c={scripts:Object.assign({dependencies:{script:series$1('nps dependencies.graph.base',allNPS('dependencies.graph.svg','dependencies.graph.dot','dependencies.graph.json')),description:'regenerate all dependencies',check:{script:'depcheck',description:'check dependencies'},graph:{base:{script:madge+' src --json | '+filterSpecs(a)+' > '+DEPGRAPH,desciption:'generate the base graph as a json file'},svg:{script:series$1('nps dependencies.graph.base','cat '+DEPGRAPH+' | '+madge+' --stdin --image dependencies.svg'),description:'generate a visual dependency graph'},json:{script:series$1('nps dependencies.graph.base','cat '+DEPGRAPH+' | '+madge+' --stdin --json'),description:'generate a visual dependency graph in json'},dot:{script:series$1('nps dependencies.graph.base','cat '+DEPGRAPH+' | '+madge+' --stdin --dot'),description:'generate a visual dependency graph in dot'}}},readme:{script:'documentation readme -s "API" src/**.js',description:'regenerate the readme'},lint:{description:'lint both the js and the jsdoc',script:allNPS('lint.src','lint.jsdoc'),src:{script:'eslint src/*.js',description:'lint js files'},jsdoc:{script:'documentation lint src/*/*.js',description:'lint jsdoc in files'}},test:{description:'run all tests with coverage',script:'jest src/*.spec.js --coverage '+a+'.js',unit:{description:'run unit tests',script:'jest src/*.spec.js'}},docs:{description:'auto regen the docs',script:'documentation build src/**.js -f html -o docs -a private -a public -a protected',serve:{description:'serve the documentation',script:'documentation serve src/**.js -a private -a public -a protected'}},bundle:{description:'run the main bundle task',script:'rollup -c rollup/config.commonjs.js'},build:{description:'convert files individually',script:'babel src -d lib --ignore *.spec.js'},care:{description:'run all the things',script:allNPS('lint','build','bundle','test','readme','dependencies')},precommit:'nps care'},b)};return c},rollup=function(a){var b=a.name,c=a.alias,d=a.external;return{exports:'named',external:d,globals:{},name:b,plugins:[generateAlias(c),progress(),version(),commonjs({extensions:['.js'],include:'node_modules/**',namedExports:{}}),buble(),resolve({jsnext:!0,main:!0}),cleanup({comments:'none'}),babili({})]}},bundle=function(a){var b=a.name,c=a.alias,d=a.external,e=a.input,f=a.output;return Object.assign({},rollup({name:b,alias:c,external:d}),{input:e,output:f})},version$1='0.0.3+f/versioning.4364620';exports.germs=germs,exports.rollup=rollup,exports.bundle=bundle,exports.version=version$1;
